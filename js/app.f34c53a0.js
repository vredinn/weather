(function(){"use strict";var t={4856:function(t,e,i){var a=i(5130),s=i(6768),n=i(4232);const l={class:"weather"},r={class:"localization"},c={class:"weather__city-label"},o=["value"],u={class:"weather__units-label"},d=["value"],h={key:0},_={key:1},p={class:"weather__main"},v=["src"],w={class:"weather__temp"},f={class:"weather__descr"},m={class:"wheather__second"},k={class:"weather__descr"},y={class:"weather__descr"},g={class:"weather__descr"},$={class:"weather__descr"},b={class:"weather__descr"},L={key:0};function C(t,e,i,C,x,S){const E=(0,s.g2)("forecastBlock");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("h1",null,(0,n.v_)(t.$t("title.weather")),1),(0,s.Lk)("div",l,[(0,s.Lk)("div",r,[(0,s.Lk)("button",{class:"localization__button",onClick:e[0]||(e[0]=t=>S.updateLocale("en"))},"En"),(0,s.Lk)("button",{class:"localization__button",onClick:e[1]||(e[1]=t=>S.updateLocale("ru"))},"Ru")]),(0,s.Lk)("p",c,(0,n.v_)(t.$t("subtitle.city")),1),(0,s.bo)((0,s.Lk)("select",{class:"weather__city-select","onUpdate:modelValue":e[2]||(e[2]=t=>x.selectedCity=t),onChange:e[3]||(e[3]=t=>S.updateCity())},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(x.options,(t=>((0,s.uX)(),(0,s.CE)("option",{value:t.value,key:t.value},(0,n.v_)(t.text),9,o)))),128))],544),[[a.u1,x.selectedCity]]),(0,s.Lk)("p",u,(0,n.v_)(t.$t("subtitle.units")),1),(0,s.bo)((0,s.Lk)("select",{class:"weather__units-select","onUpdate:modelValue":e[4]||(e[4]=t=>x.selectedUnits=t),onChange:e[5]||(e[5]=t=>S.updateCity())},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(x.units,(t=>((0,s.uX)(),(0,s.CE)("option",{value:t.value,key:t.value},(0,n.v_)(t.text),9,d)))),128))],544),[[a.u1,x.selectedUnits]]),x.weather_data?((0,s.uX)(),(0,s.CE)("div",_,[(0,s.Lk)("div",p,[(0,s.Lk)("img",{class:"weather__img",src:"https://openweathermap.org/img/wn/"+x.weather_data.weather[0].icon+"@2x.png",alt:"weather"},null,8,v),(0,s.Lk)("div",null,[(0,s.Lk)("p",w,(0,n.v_)(x.weather_data.main.temp)+" "+(0,n.v_)(x.unitText),1),(0,s.Lk)("p",f,(0,n.v_)(x.weather_data.weather[0].description),1)])]),(0,s.Lk)("div",m,[(0,s.Lk)("p",k,(0,n.v_)(t.$t("weatherDescr.feels_like"))+": "+(0,n.v_)(x.weather_data.main.feels_like)+" "+(0,n.v_)(x.unitText),1),(0,s.Lk)("p",y,(0,n.v_)(t.$t("weatherDescr.humidity"))+": "+(0,n.v_)(x.weather_data.main.humidity)+"% ",1),(0,s.Lk)("p",g,(0,n.v_)(t.$t("weatherDescr.pressure"))+": "+(0,n.v_)(x.weather_data.main.pressure)+" "+(0,n.v_)(t.$t("units_descr.pressure")),1),(0,s.Lk)("p",$,(0,n.v_)(t.$t("weatherDescr.wind"))+": "+(0,n.v_)(x.weather_data.wind.speed)+" "+(0,n.v_)(x.windSpeed),1),(0,s.Lk)("div",b,(0,n.v_)(t.$t("weatherDescr.wind_deg"))+": "+(0,n.v_)(x.weather_data.wind.deg)+"° ",1)])])):((0,s.uX)(),(0,s.CE)("div",h,[(0,s.Lk)("p",null,(0,n.v_)(t.$t("loading"))+"...",1),e[6]||(e[6]=(0,s.Lk)("span",{class:"loader"},null,-1))]))]),x.forecast_data?((0,s.uX)(),(0,s.CE)("div",L,[(0,s.Lk)("h2",null,(0,n.v_)(t.$t("title.forecast")),1),(0,s.bF)(E,{forecast:x.forecast_data,units:x.unitText},null,8,["forecast","units"])])):(0,s.Q3)("",!0)],64)}const x={class:"forecast"},S={class:"forecast__date"},E={class:"forecast__info"},U=["src"],I={class:"forecast__temp"},D={class:"forecast__descr"};function O(t,e,i,a,l,r){return(0,s.uX)(),(0,s.CE)("div",x,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.forecast.list,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.dt,class:"forecast__card"},[(0,s.Lk)("div",S,(0,n.v_)(r.formatDate(t.dt)),1),(0,s.Lk)("div",E,[(0,s.Lk)("img",{class:"forecast__icon",src:`https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png`,alt:"weather"},null,8,U),(0,s.Lk)("div",I,(0,n.v_)(t.main.temp)+" "+(0,n.v_)(i.units),1)]),(0,s.Lk)("div",D,(0,n.v_)(t.weather[0].description),1)])))),128))])}var X={props:["forecast","units"],methods:{formatDate(t){let e=new Date(1e3*t);return e.toLocaleDateString()+" "+("0"+e.getHours()).substr(-2)+":0"+e.getMinutes()}}},F=i(1241);const T=(0,F.A)(X,[["render",O]]);var j=T,K={name:"App",data(){return{weather_data:null,forecast_data:null,selectedCity:null,selectedUnits:null,loading:null,unitText:"",windSpeed:"",options:[],units:[]}},methods:{updateLocale(t){this.$i18n.locale=t,this.options=[{text:this.$t("city.n_tagil",this.$i18n.locale),value:"520494"},{text:this.$t("city.alapayevsk",this.$i18n.locale),value:"1511954"},{text:this.$t("city.ekat",this.$i18n.locale),value:"1486209"},{text:this.$t("city.moscow",this.$i18n.locale),value:"524901"},{text:this.$t("city.spb",this.$i18n.locale),value:"498817"}],this.units=[{text:this.$t("units.metric",this.$i18n.locale),value:"metric"},{text:this.$t("units.imperial",this.$i18n.locale),value:"imperial"},{text:this.$t("units.standard",this.$i18n.locale),value:"standard"}],this.updateCity(),localStorage.setItem("locale",this.$i18n.locale)},updateCity(){switch(this.weather_data=null,this.forecast_data=null,fetch("https://api.openweathermap.org/data/2.5/weather?id="+this.selectedCity+"&appid=ff97a551298bf965a9084ec70876aa54&units="+this.selectedUnits+"&lang="+this.$i18n.locale).then((t=>t.json())).then((t=>{this.weather_data=t})),fetch("https://api.openweathermap.org/data/2.5/forecast?id="+this.selectedCity+"&appid=ff97a551298bf965a9084ec70876aa54&units="+this.selectedUnits+"&lang="+this.$i18n.locale).then((t=>t.json())).then((t=>{this.forecast_data=t})),this.selectedUnits){case"metric":this.unitText="C°",this.windSpeed=this.$t("units_descr.wind_m",this.$i18n.locale);break;case"imperial":this.unitText="F°",this.windSpeed=this.$t("units_descr.wind_miles",this.$i18n.locale);break;case"standard":this.unitText="K",this.windSpeed=this.$t("units_descr.wind_m",this.$i18n.locale);break}localStorage.setItem("city",this.selectedCity),localStorage.setItem("units",this.selectedUnits)}},mounted(){localStorage.getItem("city")?this.selectedCity=localStorage.getItem("city"):this.selectedCity="520494",localStorage.getItem("units")?this.selectedUnits=localStorage.getItem("units"):this.selectedUnits="metric",localStorage.getItem("locale")?this.$i18n.locale=localStorage.getItem("locale"):this.$i18n.locale="ru",this.options=[{text:this.$t("city.n_tagil",this.$i18n.locale),value:"520494"},{text:this.$t("city.alapayevsk",this.$i18n.locale),value:"1511954"},{text:this.$t("city.ekat",this.$i18n.locale),value:"1486209"},{text:this.$t("city.moscow",this.$i18n.locale),value:"524901"},{text:this.$t("city.spb",this.$i18n.locale),value:"498817"}],this.units=[{text:this.$t("units.metric",this.$i18n.locale),value:"metric"},{text:this.$t("units.imperial",this.$i18n.locale),value:"imperial"},{text:this.$t("units.standard",this.$i18n.locale),value:"standard"}],this.updateCity()},components:{forecastBlock:j}};const z=(0,F.A)(K,[["render",C]]);var A=z,P=i(5384);const H={en:{title:{weather:"Weather app",forecast:"Forecast for 5 days"},subtitle:{city:"City",units:"Units"},weatherDescr:{feels_like:"Feels like",humidity:"Humidity",pressure:"Pressure",wind:"Wind",wind_deg:"Wind direction"},city:{alapayevsk:"Alapayevsk",n_tagil:"Nyzhniy Tagil",ekat:"Ekaterinburg",moscow:"Moscow",spb:"Saint Petersburg"},units:{metric:"Celsius",imperial:"Fahrenheit",standard:"Kelvin"},units_descr:{pressure:"mmHG",wind_m:"m/s",wind_miles:"miles/h"},loading:"Loading"},ru:{title:{weather:"Приложение погоды",forecast:"Прогноз на 5 дней"},subtitle:{city:"Город",units:"Единицы измерения"},weatherDescr:{feels_like:"Ощущается как",humidity:"Влажность",pressure:"Давление",wind:"Ветер",wind_deg:"Направление ветра"},city:{alapayevsk:"Алапаевск",n_tagil:"Нижний Тагил",ekat:"Екатеринбург",moscow:"Москва",spb:"Санкт-Петербург"},units:{metric:"Цельсий",imperial:"Фарегнейт",standard:"Кельвин"},units_descr:{pressure:"мм рт.ст.",wind_m:"м/с",wind_miles:"миль/ч"},loading:"Загрузка"}},M=(0,P.hU)({locale:"ru",fallbackLocale:"ru",messages:H});var W=M;(0,a.Ef)(A).use(W).mount("#app")}},e={};function i(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){var t=[];i.O=function(e,a,s,n){if(!a){var l=1/0;for(u=0;u<t.length;u++){a=t[u][0],s=t[u][1],n=t[u][2];for(var r=!0,c=0;c<a.length;c++)(!1&n||l>=n)&&Object.keys(i.O).every((function(t){return i.O[t](a[c])}))?a.splice(c--,1):(r=!1,n<l&&(l=n));if(r){t.splice(u--,1);var o=s();void 0!==o&&(e=o)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[a,s,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,n,l=a[0],r=a[1],c=a[2],o=0;if(l.some((function(e){return 0!==t[e]}))){for(s in r)i.o(r,s)&&(i.m[s]=r[s]);if(c)var u=c(i)}for(e&&e(a);o<l.length;o++)n=l[o],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(u)},a=self["webpackChunkweather"]=self["webpackChunkweather"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[504],(function(){return i(4856)}));a=i.O(a)})();
//# sourceMappingURL=app.f34c53a0.js.map